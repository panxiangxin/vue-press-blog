# 462 最少移动次数使数组相等

> 难度：中等（有手不一定行）

## 题目描述

给你一个长度为`n`的整数数组`nums`,返回是所有元素相等需要的最少移动次数。

在一步操作中，你可以使数组中的一个元素加1或者减一。

## 示例

```
输入：nums = [1,2,3]
输出：2
解释：
只需要两步操作（每步操作指南使一个元素加 1 或减 1）：
[1,2,3]  =>  [2,2,3]  =>  [2,2,2]
```

```
输入：nums = [1,10,2,9]
输出：16
```

## 思路

### 1. 取中位数

如果有$a$ 和 $b$ $(a<b)$，则使这两个数都等于$x$, 则这个数在$[a,b]$范围内，移动次数最少，且步数为 $b-a$

简单证明：
- 1. 当$x$在$[a,b]$中时，则$a$和$b$等于$x$,所需步数为$b-x+x-a$,等于 $b-a$
- 2. 当 $x<a$ 时，则所需步数为$(b-x)+(a-x)=(b-a+a-x)+(a-x)=b-a+2*(a-x)$步数大于 $b-a$
- 3. 同理 $x>a$ 时， 则所需步数为 $b-a+2*(x-b)$, 步数大于$b-a$

以上结论，我们可以推出，当将$nums$中所有元素都变成$nums$数组中的中位数时，移动次数最少。

证明如下：
当最后变成的元素$x$, 在$nums$中所有两两组成的数对中时， 移动次数最少。
那么，当$nums$元素为偶数时，将$nums$排序（假定中位数为$x_1$,$x_2$），$x$只需要为$[x_1,x_2]$中的任意一个数字就行，因为此时$x$必定在
$[nums_{1},nums_{n-1}],[nums_{2}, nums_{n-2}]...$组成的数对中。

> nums=[1,10,2,9] 次数x可以为[2,9]中的任意1个数，步数都为10-1+9-2=16

同理，当$nums$元素个数为奇数时，将$nums$排序（假定中位数为$x_1$）, $x$ 只能为 $x_1$, 此时 $x_1$ 两边的元素组成的数对的最小步数是一定的，$x$只有为$x_1$，才能使步数最少。

> nums = [1,2,9] 此时x只能为2，此时步数为9-1+0=8

#### 实现

```js
/**
 * 
 * @param {number[]} nums 
 * @return {number}
 */
var minMoves2 = function(nums) {

    nums.sort((a,b) => a - b);

    let left = 0, right = nums.length - 1;
    let sum = 0;
    while(left < right) {
        sum += nums[right--] - nums[left++];
    }

    return sum;
}
```